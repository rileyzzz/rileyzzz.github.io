<!doctype html>
<html lang="en">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css" />
		
		
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		
		<style>
		
		  .bd-placeholder-img {
			font-size: 1.125rem;
			text-anchor: middle;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
		  }

		  @media (min-width: 768px) {
			.bd-placeholder-img-lg {
			  font-size: 3.5rem;
			}
		  }
    
		</style>
		
		<link href="styles.css" rel="stylesheet">

	</head>
	<body class="text-center">

		<canvas id="glCanvas" class="themgraphics"></canvas>

		<!--<p>paragraphs amirite</p>-->
		<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">

			<header class="masthead mb-auto">
				<div class="inner">
					<h3 class="masthead-brand">rileyzzz</h3>
					<nav class="nav nav-masthead justify-content-center">
						<a class="nav-link active" href="#home">Home</a>
						<!--<a class="nav-link" href="#projects" data-toggle="collapse" data-target="#ProjectContent" aria-controls="ProjectContent" aria-expanded="false">Projects</a>-->
						<a class="nav-link" href="#projects">Projects</a>
						<a class="nav-link" href="#contact">Contact</a>
					</nav>
				</div>
			</header>

			<main role="main" class="inner cover">
				<h1 class="cover-heading">rileyzzz</h1>
				<p class="lead">i make cool stuff</p>

				<!--<p class="lead">
				<a href="#" class="btn btn-lg btn-secondary">Learn more</a>
			</p>-->
			</main>

			<footer class="mastfoot mt-auto">
				<div class="inner">
					<p>
						rendered using three.js
					</p>
				</div>
			</footer>
		</div>

		<div class="information-container" id="ProjectContent">
			<h2 class="text-white">projects</h2>
			<div class="infocontent scroll1">
				
				<!--<div class="infosubcontent">-->

				<div class="card bg-dark text-white text-left infocard">
					<img class="card-img infoimagecover" src="images/nodes.png">
					<!--<canvas id="CCS" class="previewgraphics"></canvas>-->
					<div class="card-img-overlay">

						<table class="card-table">
							<tr>
								<td>
									<div class="canvasblock">

									</div>
								</td>
								<td>
									<h4 class="card-title">Node Backend</h4>
									<p class="card-text">
										A flexible node editing system I created around April 2020. Includes a demo application that utilizes SDL2 to handle rendering of nodes and editing of control flow, but otherwise uses entirely standard libraries. Designed to permit easy creation of nodes using either custom functions or std functions directly through some fancy templated function wizardry.
										This project was my first attempt at a large project in C++, so it wasn't set up to compile into a .lib or .dll, however it could easily be modified to do so.
									</p>
									<a href="https://github.com/rileyzzz/NodeBackend" class="btn btn-primary">Github</a>
								</td>
							</tr>
						</table>
					</div>
				</div>

				<div class="card bg-dark text-white text-left infocard">
					<img class="card-img infoimage" src="images/pb15.png">
					
					<div class="card-img-overlay">

						<table class="card-table">
							<tr>
								<td>
									<div class="canvasblock">
										<canvas id="CCS" class="previewgraphics"></canvas>
									</div>
								</td>
								<td>
									<h4 class="card-title">Content Creator Sharp</h4>
									<p class="card-text">
										A WIP content creation utility for N3V's Trainz Railroad Simulator 2019.

									</p>
								</td>
							</tr>
						</table>
					</div>
				</div>
				<!--text-right-->
				<div class="card bg-dark text-white text-left infocard">
					<!--<img class="card-img infoimage" src="images/pb15.png">-->
					
					<div class="card-img-overlay">

						<table class="card-table">
							<tr>
								<td>
									<div class="canvasblock">
										<canvas id="trainzmesh" class="previewgraphics"></canvas>
									</div>
								</td>
								<td>
									<h4 class="card-title">Trainzmesh Viewer</h4>
									<p class="card-text">
										An application I created over the course of two weeks in July 2020. Capable of reading and viewing a mesh binary file format used in N3V Games’ Trainz Railroad Simulator 2019. Uses OpenGL through freeGLUT, GLEW, and GLMath, with a single vertex and fragment shader that supports PBR, Parallax Occlusion Mapping, and vertex skinning. A complex project, as no previous format documentation existed, and it required me to spend several days diffing files using the format in a hex editor. With some trial and error (and my prior knowledge of 3D formats) I was able to recognize and understand the data relating to vertices, texture coordinates, vertex normals and tangents, weight indexes, and triangle indices. All of the format’s relevant datatypes are parsed, and then casted into internal structs. The application's core components are separated into three dynamically linked libraries, to allow for reuse in other projects.
										Currently closed source as to prevent mesh ripping.
										The application is published on my Patreon, and uses a Patreon verification application I created in C# with the Chromium Embedded Framework. API tokens are stored in the user’s Documents folder, and then verified on application startup using libCURL.

									</p>

									<a href="https://www.patreon.com/rileyzzz" class="btn btn-primary">Available on Patreon ($10 Tier)</a>
								</td>
							</tr>
						</table>
					</div>
				</div>


				<!--</div>-->
			</div>
		</div>

		<div class="information-container" id="ContactContent">
			<div class="infocontent">
				<h2 class="text-white">contact</h2>
				<div class="overflow-auto">
					overflow content!!!!
				</div>
			</div>
		</div>
		


		<script>
			window.onhashchange = function () {
				if (location.hash === "#home") {
					document.getElementById("ProjectContent").style.height = "0%";
					document.getElementById("ContactContent").style.height = "0%";
				}
				if (location.hash === "#projects") {
					document.getElementById("ProjectContent").style.height = "90%";
					document.getElementById("ContactContent").style.height = "0%";
				}
				if (location.hash === "#contact") {
					document.getElementById("ProjectContent").style.height = "0%";
					document.getElementById("ContactContent").style.height = "90%";
				}
			};
		</script>

		<script src="js/three.js"></script>

		<script id="vertexShader" type="x-shader/x-vertex">
			varying vec2 vUv;
			uniform sampler2D soundTex;
			uniform float time;
			float border(float infloat, float size)
			{
			return (infloat * ( 1.0 - (size * 2.0))) + size;
			}

			void main() {
			//vUv = vec2(uv.x, uv.y / 2.0);
			//float bordersize = 0.4;
			//vUv = vec2(border(uv.x, bordersize), border(uv.y, bordersize));


			//vUv = vec2(uv.x, (-abs(uv.y - 0.5) + 0.5) * 2.0);

			//vUv = vec2(uv.x, abs(uv.y - 0.5) * 2.0);
			vUv = vec2(uv.x, abs(uv.y - 0.5) + 0.04);


			vec3 newPosition = position;

			vec2 Center = vUv - vec2(0.5, 0.5);
			float CenterDist = sqrt(Center.x * Center.x + Center.y * Center.y);

			float soundVal = texture2D(soundTex, vec2(0.5, 0.5)).r;
			newPosition.y += sin(time + CenterDist * 20.0 + (soundVal * 2.0)) / 16.0;

			newPosition.y += texture2D(soundTex, vUv).r;

			vec4 modelViewPosition = modelViewMatrix * vec4(newPosition, 1.0);
			gl_Position = projectionMatrix * modelViewPosition;
			}
		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">
			uniform vec3 colorA;
			uniform vec3 colorB;
			varying vec2 vUv;
			uniform sampler2D soundTex;

			void main() {
			//gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
			float soundval = ((texture2D(soundTex, vUv).r - 0.5) * 15.0) + 0.5;
			//gl_FragColor = vec4(soundval, soundval, soundval, 1.0);
			gl_FragColor = vec4(mix(colorA, colorB, soundval), 1.0);
			}
		</script>

		<script id="spinvertShader" type="x-shader/x-vertex">
			varying vec2 vUv;

			void main() {
			//vUv = position;
			vUv = uv;
			//vUv = vec2(uv.x, abs(uv.y - 0.5) * 2.0);

			vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0);
			gl_Position = projectionMatrix * modelViewPosition;
			}
		</script>

		<script id="spinfragShader" type="x-shader/x-fragment">
			uniform vec3 colorA;
			uniform vec3 colorB;
			varying vec2 vUv;
			uniform float time;
			void main() {

			float TargColor = 1.0 - mod(vUv.x - (time / 8.0), 1.0);
			gl_FragColor = vec4(mix(colorA, colorB, TargColor), 1.0);
			}
		</script>

		<script src="js/buffer-loader.js"></script>

		<script src="js/glbusiness.js" type="module"></script>
		<script src="js/previews.js" type="module"></script>
	</body>
</html>